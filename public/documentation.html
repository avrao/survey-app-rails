<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>API Reference Documentation</title>
    <script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  </head>
  <body>
    <h1>Questionaires</h1>
    <div class = "documentation">
      <span class = "method">GET</span>
      <a href = "/questionaires.xml" class = "url">/questionaires.xml</a>
      <pre class = "response">
      </pre>
    </div>
    <div class = "documentation">
      <span class = "method">GET</span>
      <a href = "/questionaires/1.xml" class = "url">/questionaires/1.xml</a>
      <pre class = "response">
      </pre>
    </div> 
    <div class = "documentation">
      <span class = "method">POST</span>
      <a href = "/questionaires.xml" class = "url">/questionaires.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">questionaire[title]</span>=<span class = "value">Super awesome title!</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div>  
    <div class = "documentation">
      <span class = "method">PUT</span>
      <a href = "/questionaires/1.xml" class = "url">/questionaires/1.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">questionaire[title]</span>=<span class = "value">A new title!</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div> 
    <div class = "documentation">
      <span class = "method">PUT</span>
      <a href = "/questionaires/2.xml" class = "url">/questionaires/2.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">questionaire[title]</span>=<span class = "value">A new title!</span>
        </li>
        <li class = "datum">
          <span class = "key">questionaire[questions_attributes][0][id]</span>=<span class = "value">1</span>
        </li>
        <li class = "datum">
          <span class = "key">questionaire[questions_attributes][1][typeof]</span>=<span class = "value">text</span>
        </li>
        <li class = "datum">
          <span class = "key">questionaire[questions_attributes][1][text]</span>=<span class = "value">A new question?</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div> 
    <h1>Questions</h1>
    <div class = "documentation">
      <span class = "method">POST</span>
      <a href = "/questions.xml" class = "url">/questions.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">question[text]</span>=<span class = "value">A motha fuckin question!</span>
        </li>
        <li class = "datum">
          <span class = "key">question[typeof]</span>=<span class = "value">multiple</span>
        </li>
        <li class = "datum">
          <span class = "key">question[options][0]</span>=<span class = "value">Awesome</span>
        </li>
        <li class = "datum">
          <span class = "key">question[options][1]</span>=<span class = "value">Double Awesome</span>
        </li>
        <li class = "datum">
          <span class = "key">question[options][2]</span>=<span class = "value">Triple Awesome</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div>  
    <div class = "documentation">
      <span class = "method">PUT</span>
      <a href = "/questions/1.xml" class = "url">/questions/1.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">question[text]</span>=<span class = "value">A motha fuckin otha question!</span>
        </li>
        <li class = "datum">
          <span class = "key">question[typeof]</span>=<span class = "value">text</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div> 
    <div class = "documentation">
      <span class = "method">DELETE</span>
      <a href = "/questions/1.xml" class = "url">/questions/1.xml</a>
      <pre class = "response">
      </pre>
    </div>  
    <h1>Users</h1>
    <div class = "documentation">
      <span class = "method">POST</span>
      <a href = "/users.xml" class = "url">/users.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">user[email]</span>=<span class = "value">x.coder.zach@gmail.com</span>
        </li>
        <li class = "datum">
          <span class = "key">user[name]</span>=<span class = "value">Zach Smith</span>
        </li>
        <li class = "datum">
          <span class = "key">user[password]</span>=<span class = "value">typeof</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div> 
    <h1>Surveys</h1>
    <div class = "documentation">
      <span class = "method">GET</span>
      <a href = "/surveys.xml" class = "url">/surveys.xml</a>
      <pre class = "response">
      </pre>
    </div>  
    <div class = "documentation">
      <span class = "method">POST</span>
      <a href = "/surveys.xml" class = "url">/surveys.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">survey[questionaire_id]</span>=<span class = "value">1</span>
        </li>
        <li class = "datum">
          <span class = "key">survey[owner_id]</span>=<span class = "value">1</span>
        </li>
      </ul>
      <pre class = "response">
      </pre>
    </div>   
    <div class = "documentation">
      <span class = "method">PUT</span>
      <a href = "/surveys/1.xml" class = "url">/surveys/1.xml</a>
      <ul class = "data">
        <li class = "datum">
          <span class = "key">survey[responses_attributes][0][question_id]</span>=<span class = "value">1</span>
        </li> 
        <li class = "datum">
          <span class = "key">survey[responses_attributes][0][value]</span>=<span class = "value">Answer the question</span>
        </li> 
      </ul>
      <pre class = "response">
      </pre>
    </div>  
    <script type="text/javascript" charset="utf-8">
      $(".documentation").each(function(index, element) {
        var method = $(".method", element).text()
          , link = $(".url", element)
          , url = link.attr("href")
          , response = $(".response", element)
          , data = $(".data .datum", element)
          , postData = {}

        data.each(function(index, datum) {
          var key = $(".key", datum).text()
            , val = $(".value", datum).text()
          postData[key] = val
        })


        link.click(function(event) {
          var options = {type: method, dataType: "text"}
          if(data.length !== 0) {
            options.data = postData
          }
          event.preventDefault()
          $.ajax(url, options) 
            .success(function(res) {
              console.log(res)
              response.text(res)
            })
        })
      })
    </script>
  </body>
</html>
